# 📊 KoELECTRA 기반 주식 종목별 투자자 감성 및 토픽–감성 결합 분석

본 프로젝트는 네이버 증권 종목 토론 게시판 데이터를 활용하여  
**KoELECTRA 기반 감성 분석**과 **BERTopic 기반 토픽 모델링**을 결합함으로써,  
주식 종목별 투자자 담론의 구조적 특성을 분석하는 것을 목표로 한다.

---

## 📌 프로젝트 개요

- **주제**: 주식 종목별 투자자 감성 분석 및 토픽–감성 결합 분석  
- **데이터 출처**: 네이버 증권 종목 토론 게시판  
- **대상 종목**: KOSPI100 주요 종목  
- **분석 단위**: 게시글 제목  
- **핵심 기법**:
  - KoELECTRA 기반 이진 감성 분류
  - BERTopic 기반 토픽 모델링
  - 토픽–감성 결합 히트맵 분석

---

## 🎯 연구 목적

기존의 감성 분석은 종목 단위 평균 감성 지표에 의존하는 경우가 많아,  
**투자자 감성이 어떤 이슈(토픽)에 의해 형성되는지**를 설명하는 데 한계가 있다.

본 프로젝트는 다음 질문에 답하고자 한다.

- 종목별 투자자 감성은 어떤 토픽에 의해 형성되는가?
- 동일 종목 내에서도 토픽에 따라 감성 분포는 어떻게 달라지는가?

---

## 🗂 데이터 구성 및 전처리

- 수집 항목: `종목명`, `게시글 제목`
- 전처리 과정:
  - 특수문자 및 불필요한 기호 제거
  - 한글 외 문자 정리
  - 중복 및 의미 없는 문장 제거
- 최종 데이터 수: **17,477건**

> ⚠️ 데이터 저작권 문제로 원본 데이터는 GitHub에 직접 업로드하지 않고,  
> 수집 및 전처리 코드를 공개하였다.

---

## 🤖 감성 분석 모델

### 라벨링 전략
- 긍정(1): 상승 기대, 호재, 긍정적 전망
- 부정(-1): 하락 우려, 악재, 비관적 전망
- 키워드 기반 약지도 방식으로 초기 라벨링
- 클래스 불균형 완화를 위해 **균형 데이터셋 구성**

### 모델 정보
- **모델**: KoELECTRA-base
- **프레임워크**: PyTorch, HuggingFace Transformers
- **분류 방식**: 이진 분류 (Positive / Negative)

---

## 📈 기본 분석 결과

### 전체 감성 분포
> 전체 데이터에서 긍정 및 부정 감성이 비교적 균형 잡힌 분포를 보임

📌 **[그림 위치]**  
- `results/figures_clean/01_overall_sentiment.png`

---

### 종목별 감성 비교
- 종목별 평균 감성 점수 및 긍정 비율 비교
- 종목 간 투자자 감성 차이가 뚜렷하게 나타남

📌 **[그림 위치]**  
- `results/figures_clean/03_score_top10.png`  
- `results/figures_clean/04_score_bottom10.png`

---

## 🧠 토픽 모델링

- **토픽 모델**: BERTopic
- **임베딩 모델**: Sentence-BERT (multilingual)
- 아웃라이어 토픽(-1)은 분석에서 제외

### 분석 대상 종목 선정 기준
1. 댓글 수 상위 종목
2. 종목별 최소 문서 수 80개 이상
3. 유효 토픽이 충분히 생성된 종목만 분석

---

## 🔍 토픽–감성 결합 분석 (확장 분석)

### 분석 방법
- 종목별 주요 토픽에 대해 다음 지표 계산:
  - 평균 감성 점수 (Mean Sentiment)
  - 긍정 비율 (Positive Ratio)
- 결과를 히트맵(Heatmap) 형태로 시각화

📌 **[그림 위치]**
- `results/topic_sentiment_heatmap/01_heatmap_topic_mean_sent.png`
- `results/topic_sentiment_heatmap/02_heatmap_topic_pos_ratio.png`

---

### 주요 분석 결과

- 동일 종목 내에서도 **토픽별 감성 편차가 큼**
- 부정적인 종목은 **특정 부정 토픽에 감성이 집중**
- 긍정적인 종목은 **여러 토픽에서 고른 긍정 분포**

> 이를 통해 단순 감성 평균을 넘어,  
> **투자자 감성이 형성되는 구조적 요인**을 확인할 수 있었다.

---

## 🧾 프로젝트 구조

